<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuildingPRO - Registro</title>
    <link rel="stylesheet" href="/css/register.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <div class="container">
        <!-- Efectos de fondo futuristas -->
        <div class="bg-effects">
            <div class="effect effect-1"></div>
            <div class="effect effect-2"></div>
            <div class="effect effect-3"></div>
        </div>

        <div class="logo">
          <img src="/img/Logo.png" alt="Logo Smart Building" class="logo-img">
        </div>

        <div class="register-card">
            <div class="register-header">
                <h2>Registro</h2>
                <p>Completa tus datos para crear una cuenta</p>
            </div>

            <form id="registerForm">
                <div class="form-group">
                    <label for="userType">Tipo de Usuario</label>
                    <select id="userType" class="form-control" required>
                        <option value="">Selecciona tu tipo de usuario</option>
                        <option value="administrador">Administrador</option>
                        <option value="residente">Residente</option>
                        <option value="guardia">Guardia de Seguridad</option>
                        <option value="tecnico">Personal de Mantenimiento</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="firstName">Nombres</label>
                    <div class="input-with-icon">
                        <input type="text" id="firstName" class="form-control" placeholder="Ingresa tus nombres" required>
                        <i class='bx bx-user'></i>
                    </div>
                </div>

                <div class="form-group">
                    <label for="lastName">Apellidos</label>
                    <div class="input-with-icon">
                        <input type="text" id="lastName" class="form-control" placeholder="Ingresa tus apellidos" required>
                        <i class='bx bx-user'></i>
                    </div>
                </div>

                <div class="form-group">
                    <label for="email">Correo Electrónico</label>
                    <div class="input-with-icon">
                        <input type="email" id="email" class="form-control" placeholder="tu.correo@ejemplo.com" required>
                        <i class='bx bx-envelope'></i>
                    </div>
                </div>

                <div class="form-group">
                    <label for="phone">Teléfono</label>
                    <div class="input-with-icon">
                        <input type="tel" id="phone" class="form-control" placeholder="+51 123 456 789" required>
                        <i class='bx bx-phone'></i>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <div class="input-with-icon">
                        <input type="password" id="password" class="form-control" placeholder="Crea una contraseña segura" required>
                        <i class='bx bx-lock-alt'></i>
                        <button type="button" id="togglePassword" class="password-toggle">
                            <i class='bx bx-hide'></i>
                        </button>
                    </div>
                    
                    <!-- Indicadores de requisitos de contraseña -->
                    <div class="password-requirements">
                        <div class="requirement" id="req-length">
                            <i class='bx bx-x'></i>
                            <span>Al menos 8 caracteres</span>
                        </div>
                        <div class="requirement" id="req-uppercase">
                            <i class='bx bx-x'></i>
                            <span>Al menos una mayúscula</span>
                        </div>
                        <div class="requirement" id="req-lowercase">
                            <i class='bx bx-x'></i>
                            <span>Al menos una minúscula</span>
                        </div>
                        <div class="requirement" id="req-number">
                            <i class='bx bx-x'></i>
                            <span>Al menos un número</span>
                        </div>
                        <div class="requirement" id="req-special">
                            <i class='bx bx-x'></i>
                            <span>Al menos un carácter especial</span>
                        </div>
                    </div>
                    
                    <div class="password-strength">
                        <div class="strength-bar"></div>
                        <span class="strength-text">Seguridad: Muy débil</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="confirmPassword">Confirmar Contraseña</label>
                    <div class="input-with-icon">
                        <input type="password" id="confirmPassword" class="form-control" placeholder="Repite tu contraseña" required>
                        <i class='bx bx-lock-alt'></i>
                        <button type="button" id="toggleConfirmPassword" class="password-toggle">
                            <i class='bx bx-hide'></i>
                        </button>
                    </div>
                    <div class="password-match" id="passwordMatch">
                        <i class='bx bx-x'></i>
                        <span>Las contraseñas no coinciden</span>
                    </div>
                </div>

                <div class="form-group" id="additionalFieldContainer" style="display: none;">
                    <label id="additionalFieldLabel"></label>
                    <div class="input-with-icon">
                        <input type="text" id="additionalField" class="form-control" placeholder="">
                        <i class='bx bx-key' id="additionalFieldIcon"></i>
                    </div>
                    <small id="additionalFieldHelp" class="form-text"></small>
                </div>

                <!-- CAPTCHA Section -->
                <div class="form-group">
                    <label for="captchaInput">Verificación de seguridad</label>
                    <div class="captcha-container" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <img id="captchaImage" src="" alt="CAPTCHA" style="border: 1px solid #ddd; border-radius: 5px; height: 40px;">
                        <button type="button" id="refreshCaptcha" class="captcha-refresh" style="background: none; border: none; cursor: pointer; font-size: 18px;">
                            <i class='bx bx-refresh'></i>
                        </button>
                    </div>
                    <input type="text" id="captchaInput" class="form-control" placeholder="Ingresa el texto de la imagen" required>
                    <input type="hidden" id="captchaKey">
                    <small class="form-text">Por favor ingresa el texto que ves en la imagen para verificar que no eres un robot.</small>
                </div>

                <div class="form-group terms">
                    <input type="checkbox" id="terms" required>
                    <label for="terms">Acepto los <a href="#" id="termsLink">términos y condiciones</a> y la <a href="#" id="privacyLink">política de privacidad</a></label>
                </div>

                <button type="submit" class="btn">Crear Cuenta</button>

                <div class="login-link">
                    <p>¿Ya tienes una cuenta? <a href="/login/" id="goToLogin">Inicia sesión aquí</a></p>
                </div>
            </form>
        </div>

        <!-- Modal para Términos y Condiciones -->
        <div id="termsModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Términos y Condiciones</h2>
                <div class="terms-content">
                    <p>Al registrarte en BuildingPRO, aceptas nuestros términos y condiciones de uso:</p>
                    <ol>
                        <li>Debes proporcionar información veraz y actualizada.</li>
                        <li>Eres responsable de mantener la confidencialidad de tu cuenta.</li>
                        <li>BuildingPRO se reserva el derecho de suspender cuentas que violen nuestras políticas.</li>
                        <li>Los datos personales se manejarán de acuerdo con nuestra política de privacidad.</li>
                    </ol>
                    <p>Para consultar los términos completos, contacta al administrador del sistema.</p>
                </div>
                <button class="btn" id="acceptTerms">Aceptar</button>
            </div>
        </div>

        <!-- Modal para Política de Privacidad -->
        <div id="privacyModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Política de Privacidad</h2>
                <div class="privacy-content">
                    <p>En BuildingPRO valoramos tu privacidad:</p>
                    <ul>
                        <li>Tus datos personales se utilizan únicamente para gestionar tu cuenta y proporcionar los servicios del sistema.</li>
                        <li>No compartimos tu información con terceros sin tu consentimiento.</li>
                        <li>Implementamos medidas de seguridad para proteger tus datos.</li>
                        <li>Puedes solicitar la eliminación de tu cuenta en cualquier momento.</li>
                    </ul>
                    <p>Para más información sobre el manejo de datos, contacta al administrador del sistema.</p>
                </div>
                <button class="btn" id="acceptPrivacy">Aceptar</button>
            </div>
        </div>

        <!-- Modal para Mensajes -->
        <div id="messageModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="messageTitle"></h2>
                <p id="messageText"></p>
            </div>
        </div>
    </div>

    <script src="/js/register.js"></script>
</body>
</html>