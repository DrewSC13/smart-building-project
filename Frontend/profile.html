<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuildingPRO - Mi Perfil</title>
    <link rel="stylesheet" href="/css/login.css">
    <link rel="stylesheet" href="/css/profile.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <!-- Efectos de fondo futuristas -->
    <div class="bg-effects">
        <div class="effect effect-1"></div>
        <div class="effect effect-2"></div>
        <div class="effect effect-3"></div>
    </div>

    <div class="profile-container">
        <!-- Sidebar de Perfil -->
        <aside class="profile-sidebar">
            <div class="profile-avatar">
                <i class='bx bx-user' id="avatar-icon"></i>
                <div class="avatar-upload">
                    <label for="avatar-input">
                        <i class='bx bx-camera'></i> Cambiar
                    </label>
                    <input type="file" id="avatar-input" accept="image/*" style="display: none;">
                </div>
            </div>

            <div class="profile-info">
                <h2 id="profile-name">Cargando...</h2>
                <span class="profile-role" id="profile-role">Usuario</span>
                <p id="profile-email" style="color: var(--text-secondary); margin: 10px 0;"></p>
            </div>

            <div class="profile-stats">
                <div class="stat">
                    <span class="stat-value" id="stats-announcements">0</span>
                    <span class="stat-label">Anuncios</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="stats-notifications">0</span>
                    <span class="stat-label">Notificaciones</span>
                </div>
            </div>

            <div style="margin-top: 20px;">
                <button class="btn btn-primary" style="width: 100%;" onclick="location.href='/dashboard.html'">
                    <i class='bx bx-arrow-back'></i> Volver al Dashboard
                </button>
            </div>
        </aside>

        <!-- Contenido Principal -->
        <main class="profile-main">
            <!-- Pestañas -->
            <div class="profile-section">
                <div class="tabs">
                    <button class="tab active" data-tab="personal">Información Personal</button>
                    <button class="tab" data-tab="security">Seguridad</button>
                    <button class="tab" data-tab="preferences">Preferencias</button>
                </div>

                <!-- Pestaña de Información Personal -->
                <div class="tab-content active" id="personal-tab">
                    <form id="profile-form" class="profile-form">
                        <div class="form-group">
                            <label for="first-name">Nombre</label>
                            <input type="text" id="first-name" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label for="last-name">Apellido</label>
                            <input type="text" id="last-name" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label for="email">Correo Electrónico</label>
                            <input type="email" id="email" class="form-control" readonly>
                            <small style="color: var(--text-secondary);">El email no se puede modificar</small>
                        </div>

                        <div class="form-group">
                            <label for="phone">Teléfono</label>
                            <input type="tel" id="phone" class="form-control">
                        </div>

                        <div class="form-group form-group-full">
                            <label for="address">Dirección</label>
                            <textarea id="address" class="form-control" rows="3"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="birth-date">Fecha de Nacimiento</label>
                            <input type="date" id="birth-date" class="form-control">
                        </div>

                        <div class="form-group form-group-full">
                            <h4 style="color: var(--neon); margin-bottom: 15px;">
                                <i class='bx bx-first-aid'></i> Contacto de Emergencia
                            </h4>
                        </div>

                        <div class="form-group">
                            <label for="emergency-contact">Nombre del Contacto</label>
                            <input type="text" id="emergency-contact" class="form-control">
                        </div>

                        <div class="form-group">
                            <label for="emergency-phone">Teléfono de Emergencia</label>
                            <input type="tel" id="emergency-phone" class="form-control">
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="cancel-edit">
                                Cancelar
                            </button>
                            <button type="submit" class="btn btn-primary" id="save-profile">
                                <i class='bx bx-save'></i> Guardar Cambios
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Pestaña de Seguridad -->
                <div class="tab-content" id="security-tab">
                    <div class="info-card">
                        <h4><i class='bx bx-shield-alt'></i> Seguridad de la Cuenta</h4>
                        <p>Último inicio de sesión: <span id="last-login">Cargando...</span></p>
                        <p>Estado de la cuenta: <span style="color: var(--success);">Activa</span></p>
                    </div>

                    <form id="password-form" class="profile-form">
                        <div class="form-group form-group-full">
                            <label for="current-password">Contraseña Actual</label>
                            <input type="password" id="current-password" class="form-control" required>
                        </div>

                        <div class="form-group">
                            <label for="new-password">Nueva Contraseña</label>
                            <input type="password" id="new-password" class="form-control" required minlength="6">
                        </div>

                        <div class="form-group">
                            <label for="confirm-password">Confirmar Contraseña</label>
                            <input type="password" id="confirm-password" class="form-control" required>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <i class='bx bx-lock-alt'></i> Cambiar Contraseña
                            </button>
                        </div>
                    </form>

                    <div class="info-card">
                        <h4><i class='bx bx-devices'></i> Dispositivos Conectados</h4>
                        <p>No hay dispositivos registrados</p>
                        <button class="btn btn-secondary btn-sm">
                            <i class='bx bx-plus'></i> Agregar Dispositivo
                        </button>
                    </div>
                </div>

                <!-- Pestaña de Preferencias -->
                <div class="tab-content" id="preferences-tab">
                    <div class="info-card">
                        <h4><i class='bx bx-bell'></i> Notificaciones</h4>
                        <div class="preference-item">
                            <label class="switch">
                                <input type="checkbox" id="notify-email" checked>
                                <span class="slider"></span>
                            </label>
                            <span>Notificaciones por Email</span>
                        </div>
                        <div class="preference-item">
                            <label class="switch">
                                <input type="checkbox" id="notify-sms" checked>
                                <span class="slider"></span>
                            </label>
                            <span>Notificaciones por SMS</span>
                        </div>
                        <div class="preference-item">
                            <label class="switch">
                                <input type="checkbox" id="notify-announcements">
                                <span class="slider"></span>
                            </label>
                            <span>Nuevos Anuncios</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <h4><i class='bx bx-palette'></i> Apariencia</h4>
                        <div class="theme-selector">
                            <button class="theme-option active" data-theme="dark">
                                <i class='bx bx-moon'></i> Oscuro
                            </button>
                            <button class="theme-option" data-theme="light">
                                <i class='bx bx-sun'></i> Claro
                            </button>
                        </div>
                    </div>

                    <div class="info-card">
                        <h4><i class='bx bx-world'></i> Idioma</h4>
                        <select class="form-control" id="language-select">
                            <option value="es">Español</option>
                            <option value="en">English</option>
                        </select>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-primary" id="save-preferences">
                            <i class='bx bx-save'></i> Guardar Preferencias
                        </button>
                    </div>
                </div>
            </div>

            <!-- Información de la Cuenta -->
            <div class="profile-section">
                <h3 class="section-title">
                    <i class='bx bx-info-circle'></i> Información de la Cuenta
                </h3>

                <div class="account-info">
                    <div class="info-item">
                        <strong>Fecha de Registro:</strong>
                        <span id="account-created">Cargando...</span>
                    </div>
                    <div class="info-item">
                        <strong>Última Actualización:</strong>
                        <span id="account-updated">Cargando...</span>
                    </div>
                    <div class="info-item">
                        <strong>Estado de Verificación:</strong>
                        <span style="color: var(--success);">Verificado</span>
                    </div>
                    <div class="info-item">
                        <strong>Rol en el Sistema:</strong>
                        <span id="account-role">Cargando...</span>
                    </div>
                </div>
            </div>

            <!-- Acciones de Cuenta -->
            <div class="profile-section">
                <h3 class="section-title">
                    <i class='bx bx-cog'></i> Acciones de Cuenta
                </h3>

                <div class="account-actions">
                    <button class="btn btn-secondary" id="export-data">
                        <i class='bx bx-download'></i> Exportar Mis Datos
                    </button>
                    <button class="btn btn-secondary" id="delete-account">
                        <i class='bx bx-trash'></i> Eliminar Cuenta
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal para Mensajes -->
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="messageTitle"></h2>
            <p id="messageText"></p>
        </div>
    </div>

    <script src="/js/profile.js"></script>
</body>
</html>
